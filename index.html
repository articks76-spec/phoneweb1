<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>WebOS - iOS 18</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-user-select: none;
            user-select: none;
            -webkit-font-smoothing: antialiased;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Helvetica Neue', sans-serif;
            overflow: hidden;
            height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        /* iPhone 14 Pro Frame */
        .iphone-frame {
            width: 390px;
            height: 844px;
            background: #000;
            border-radius: 44px;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 0 0 12px #1a1a1a,
                0 0 0 14px #333,
                0 25px 50px rgba(0, 0, 0, 0.6),
                0 0 120px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Dynamic Island */
        .dynamic-island {
            position: absolute;
            top: 12px;
            left: 50%;
            transform: translateX(-50%);
            width: 126px;
            height: 37px;
            background: rgba(0, 0, 0, 0.9);
            border-radius: 23px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 12px;
            z-index: 1001;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .dynamic-btn {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-size: 0.9rem;
            color: white;
            background: rgba(255, 255, 255, 0.15);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
        }

        .dynamic-btn:active {
            transform: scale(0.9);
            background: rgba(255, 255, 255, 0.25);
        }

        /* Lock Screen - –ö—Ä–∞—Å–∏–≤—ã–π —ç–∫—Ä–∞–Ω –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ */
        #lock-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 120px 20px 80px;
            z-index: 1000;
            transition: transform 0.8s cubic-bezier(0.23, 1, 0.32, 1);
            overflow: hidden;
        }

        #lock-screen.hidden {
            transform: translateY(-100%);
        }

        /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ */
        .lock-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 50%, rgba(0, 122, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(52, 199, 89, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(255, 59, 48, 0.1) 0%, transparent 50%);
            animation: float 20s infinite linear;
        }

        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(10px, 10px) rotate(90deg); }
            50% { transform: translate(0, 20px) rotate(180deg); }
            75% { transform: translate(-10px, 10px) rotate(270deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }

        .lock-time {
            font-size: 5rem;
            font-weight: 300;
            letter-spacing: -3px;
            margin-top: 60px;
            font-variant-numeric: tabular-nums;
            text-shadow: 0 4px 30px rgba(0, 0, 0, 0.6);
            position: relative;
            z-index: 2;
            background: linear-gradient(135deg, #fff, rgba(255, 255, 255, 0.8));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .lock-date {
            font-size: 1.4rem;
            opacity: 0.9;
            margin-bottom: 40px;
            font-weight: 400;
            text-shadow: 0 2px 15px rgba(0, 0, 0, 0.4);
            position: relative;
            z-index: 2;
            color: rgba(255, 255, 255, 0.9);
        }

        /* –°—Ç–∏–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ */
        .unlock-container {
            position: absolute;
            bottom: 120px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 320px;
            z-index: 2;
            text-align: center;
        }

        .unlock-button {
            width: 100%;
            height: 70px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.05));
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 35px;
            color: white;
            font-size: 1.1rem;
            font-weight: 500;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 2;
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            overflow: hidden;
        }

        .unlock-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }

        .unlock-button:hover::before {
            left: 100%;
        }

        .unlock-button:active {
            transform: translateX(-50%) scale(0.95);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
        }

        .unlock-button i {
            font-size: 1.4rem;
            transition: transform 0.3s;
        }

        .unlock-button:active i {
            transform: translateY(5px);
        }

        .unlock-hint {
            margin-top: 20px;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
            text-shadow: 0 1px 8px rgba(0, 0, 0, 0.3);
        }

        /* OS Container */
        #os-container {
            width: 100%;
            height: 100%;
            background-color: #000;
            position: relative;
            overflow: hidden;
            display: none;
        }

        /* Status Bar */
        #status-bar {
            height: 54px;
            background: linear-gradient(to bottom, rgba(0,0,0,0.95) 0%, transparent 100%);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 24px 0;
            font-size: 0.9rem;
            font-weight: 600;
            position: relative;
            z-index: 100;
            backdrop-filter: blur(20px);
        }

        .status-left, .status-right {
            display: flex;
            align-items: center;
            gap: 8px;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
        }

        .notification-icon {
            position: relative;
            margin-left: 10px;
        }

        .notification-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: linear-gradient(135deg, #FF3B30, #FF1C00);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.7rem;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: 700;
            border: 2px solid #000;
            box-shadow: 0 3px 10px rgba(255, 59, 48, 0.4);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* –®—Ç–æ—Ä–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */
        #notification-panel {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 500px;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(40px) saturate(180%);
            transform: translateY(-100%);
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 150;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            overflow: hidden;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        #notification-panel.show {
            transform: translateY(0);
        }

        .notification-header {
            padding: 35px 25px 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(to bottom, rgba(255,255,255,1) 0%, rgba(255,255,255,0.95) 100%);
        }

        .notification-header h3 {
            font-size: 1.8rem;
            font-weight: 800;
            color: #000;
            letter-spacing: -0.5px;
        }

        #close-notifications {
            font-size: 1.4rem;
            color: #007AFF;
            cursor: pointer;
            padding: 12px;
            border-radius: 50%;
            transition: all 0.3s;
            width: 46px;
            height: 46px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #close-notifications:active {
            background: rgba(0, 122, 255, 0.15);
            transform: scale(0.9);
        }

        #notifications-list {
            padding: 20px;
            overflow-y: auto;
            height: calc(100% - 110px);
        }

        .notification-item {
            padding: 22px;
            background: linear-gradient(135deg, rgba(0,0,0,0.02), rgba(0,0,0,0.05));
            border-radius: 20px;
            margin-bottom: 15px;
            border-left: 6px solid;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
            position: relative;
            overflow: hidden;
        }

        .notification-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(0,122,255,0.1), transparent);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .notification-item:active {
            transform: translateY(-2px) scale(0.998);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .notification-item:active::before {
            opacity: 1;
        }

        .notification-title {
            font-weight: 700;
            font-size: 1.15rem;
            margin-bottom: 10px;
            color: #000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 1;
        }

        .notification-text {
            font-size: 1rem;
            color: #666;
            line-height: 1.5;
            position: relative;
            z-index: 1;
        }

        .notification-time {
            font-size: 0.85rem;
            color: #999;
            margin-top: 10px;
            position: relative;
            z-index: 1;
        }

        /* Home Screen */
        #home-screen {
            position: absolute;
            top: 44px;
            left: 0;
            width: 100%;
            height: calc(100% - 83px);
            background-size: cover;
            background-position: center;
            overflow-y: auto;
            transition: background-image 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .wallpaper-1 {
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzkwIiBoZWlnaHQ9Ijg0NCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZyIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMDAwMDAwOyIgLz4KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0eWxlPSJzdG9wLWNvbG9yOiMxQTFBMUE7IiAvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDgwRkY7IiAvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iZy0yIiBjeD0iNTAiIGN5PSI1MCIgcj0iNTAlIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6IzAwODBGRjsiIHN0b3Atb3BhY2l0eT0iMC4zIiAvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDAwMDA7IiBzdG9wLW9wYWNpdHk9IjAiIC8+CiAgICA8L3JhZGlhbEdyYWRpZW50PgogIDwvZGVmcz4KICA8cmVjdCB3aWR0aD0iMzkwIiBoZWlnaHQ9Ijg0NCIgZmlsbD0idXJsKCNnKSIgLz4KICA8Y2lyY2xlIGN4PSIyMDAiIGN5PSI0MDAiIHI9IjIwMCIgZmlsbD0idXJsKCNnLTIpIiAvPgo8L3N2Zz4=');
        }

        .wallpaper-2 {
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzkwIiBoZWlnaHQ9Ijg0NCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZGVmcz4KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iZyIgY3g9IjUwJSIgY3k9IjUwJSIgcj0iNTAlIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6IzAwN0NFRjsiIC8+CiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6IzAwODBGMDsiIC8+CiAgICA8L3JhZGlhbEdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJnLTIiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMDA3Q0VGOyIgc3RvcC1vcGFjaXR5PSIwLjUiIC8+CiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6IzAwRkZGRjsiIHN0b3Atb3BhY2l0eT0iMC41IiAvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICA8L2RlZnM+CiAgPHJlY3Qgd2lkdGg9IjM5MCIgaGVpZ2h0PSI4NDQiIGZpbGw9InVybCgjZykiIC8+CiAgPHJlY3Qgd2lkdGg9IjM5MCIgaGVpZ2h0PSI4NDQiIGZpbGw9InVybCgjZy0yKSIgLz4KPC9zdmc+');
        }

        .wallpaper-3 {
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzkwIiBoZWlnaHQ9Ijg0NCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwM00vc3ZnIj4KICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZyIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMTAwJSI+CiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDgwRkY7IiAvPgogICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3R5bGU9InN0b3AtY29sb3I6I0ZGMDBGRjsiIC8+CiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6I0ZGMDBGRjsiIC8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJnLTIiIGN4PSIwJSIgY3k9IjEwMCUiIHI9IjEwMCUiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMDAwMDAwOyIgc3RvcC1vcGFjaXR5PSIwIiAvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDAwMDA7IiBzdG9wLW9wYWNpdHk9IjAuOCIgLz4KICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgPC9kZWZzPgogIDxyZWN0IHdpZHRoPSIzOTAiIGhlaWdodD0iODQ0IiBmaWxsPSJ1cmwoI2cpIiAvPgogIDxyZWN0IHdpZHRoPSIzOTAiIGhlaWdodD0iODQ0IiBmaWxsPSJ1cmwoI2ctMikiIC8+Cjwvc3ZnPg==');
        }

        .apps-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 24px;
            padding: 30px;
            margin-top: 15px;
        }

        .app-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 22px 14px;
            border-radius: 26px;
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(30px) saturate(200%);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.18);
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            overflow: hidden;
        }

        .app-icon::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255,255,255,0.1), transparent);
            opacity: 0;
            transition: opacity 0.4s;
        }

        .app-icon:active {
            transform: scale(0.92) translateY(5px);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 
                0 6px 25px rgba(0, 0, 0, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.15);
        }

        .app-icon:active::before {
            opacity: 1;
        }

        .app-icon i {
            font-size: 2.6rem;
            margin-bottom: 12px;
            color: white;
            filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3));
            position: relative;
            z-index: 1;
        }

        .app-icon span {
            font-size: 0.85rem;
            color: white;
            text-align: center;
            font-weight: 500;
            text-shadow: 0 1px 6px rgba(0, 0, 0, 0.5);
            position: relative;
            z-index: 1;
        }

        .dock {
            position: absolute;
            bottom: 110px;
            left: 30px;
            right: 30px;
            display: flex;
            justify-content: space-around;
            gap: 22px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.12);
            backdrop-filter: blur(40px) saturate(200%);
            border-radius: 32px;
            z-index: 10;
            border: 1px solid rgba(255, 255, 255, 0.22);
            box-shadow: 
                0 20px 50px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.15);
        }

        .dock .app-icon {
            width: 72px;
            height: 72px;
            padding: 18px;
        }

        .dock .app-icon i {
            font-size: 2.2rem;
        }

        /* App Windows */
        .app-window {
            position: absolute;
            top: 80px;
            left: 20px;
            width: 350px;
            height: 640px;
            background: white;
            border-radius: 28px;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.5);
            display: none;
            flex-direction: column;
            z-index: 10;
            overflow: hidden;
            transform: scale(0.95);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .app-window.active {
            display: flex;
            z-index: 20;
            transform: scale(1);
            opacity: 1;
        }

        .window-header {
            height: 64px;
            background: linear-gradient(135deg, #f8f8f8, #ffffff);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 28px;
            border-bottom: 1px solid #e5e5ea;
            cursor: move;
            user-select: none;
        }

        .window-title {
            font-weight: 700;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 14px;
            color: #000;
        }

        .window-controls {
            display: flex;
            gap: 16px;
        }

        .window-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .minimize-btn { 
            background: linear-gradient(135deg, #FF9500, #FF8A00);
            color: white;
        }

        .maximize-btn { 
            background: linear-gradient(135deg, #34C759, #2DBE4C);
            color: white;
        }

        .close-btn { 
            background: linear-gradient(135deg, #FF3B30, #FF2D20);
            color: white;
        }

        .window-btn:active {
            transform: scale(0.85);
        }

        .app-content {
            flex-grow: 1;
            overflow: auto;
            background: #f8f8f8;
        }

        /* Home Indicator */
        .home-indicator {
            position: absolute;
            bottom: 12px;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 6px;
            background: rgba(255, 255, 255, 0.92);
            border-radius: 3px;
            z-index: 100;
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
        }

        /* Utility */
        .hidden { display: none !important; }
        .visible { display: block !important; }

        /* Calculator Styles */
        .calculator {
            display: flex;
            flex-direction: column;
            height: 100%;
            background: #000;
        }

        .calculator-display {
            background-color: #000;
            color: white;
            padding: 40px 30px;
            text-align: right;
            font-size: 4rem;
            font-weight: 300;
            min-height: 160px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            word-break: break-all;
            overflow: hidden;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .calculator-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            flex-grow: 1;
            padding: 30px;
            background: #000;
        }

        .calc-btn {
            background: #333;
            border: none;
            border-radius: 50%;
            font-size: 1.8rem;
            cursor: pointer;
            transition: all 0.2s;
            color: white;
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .calc-btn:active {
            transform: scale(0.9);
            opacity: 0.8;
        }

        .calc-btn.operator {
            background: linear-gradient(135deg, #FF9500, #FF8A00);
            color: white;
        }

        .calc-btn.clear {
            background: linear-gradient(135deg, #a5a5a5, #8e8e93);
            color: #000;
        }

        .calc-btn.zero {
            grid-column: span 2;
            border-radius: 50px;
            aspect-ratio: auto;
            padding-left: 40px;
            justify-content: flex-start;
        }
    </style>
</head>
<body>
    <div class="iphone-frame">
        <div class="dynamic-island">
            <div class="dynamic-btn" id="dynamic-notifications">
                <i class="fas fa-bell"></i>
            </div>
            <div class="dynamic-btn" id="dynamic-camera">
                <i class="fas fa-camera"></i>
            </div>
            <div class="dynamic-btn" id="dynamic-flashlight">
                <i class="fas fa-bolt"></i>
            </div>
        </div>

        <!-- Lock Screen -->
        <div id="lock-screen">
            <div class="lock-bg"></div>
            <div class="lock-time" id="lock-time">00:00</div>
            <div class="lock-date" id="lock-date">–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, 1 —è–Ω–≤–∞—Ä—è</div>
            
            <div class="unlock-container">
                <div class="unlock-button" id="unlock-button">
                    <i class="fas fa-lock-open"></i>
                    –ù–∞–∂–º–∏—Ç–µ –¥–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
                </div>
                <div class="unlock-hint">
                    –î–æ—Å—Ç—É–ø –∫ —Ä–∞–±–æ—á–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º
                </div>
            </div>
            
            <!-- –¢–∞–∫–∂–µ –≤–µ—Å—å —ç–∫—Ä–∞–Ω –∫–ª–∏–∫–∞–±–µ–ª–µ–Ω –¥–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ -->
            <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: transparent; z-index: 1;"
                 id="lock-full-area"></div>
        </div>

        <!-- OS Container -->
        <div id="os-container">
            <!-- Status Bar -->
            <div id="status-bar">
                <div class="status-left">
                    <span id="current-time">12:00</span>
                    <i class="fas fa-signal"></i>
                    <i class="fas fa-wifi"></i>
                </div>
                <div class="status-right">
                    <i class="fas fa-battery-three-quarters"></i>
                    <div class="notification-icon" id="status-notification-icon">
                        <i class="fas fa-bell"></i>
                        <div class="notification-badge" id="status-notification-badge">3</div>
                    </div>
                </div>
            </div>

            <!-- Notification Panel -->
            <div id="notification-panel">
                <div class="notification-header">
                    <h3>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
                    <i class="fas fa-times" id="close-notifications"></i>
                </div>
                <div id="notifications-list">
                    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>

            <!-- Home Screen -->
            <div id="home-screen" class="wallpaper-1">
                <div class="apps-grid" id="apps-grid">
                    <!-- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                <div class="dock">
                    <div class="app-icon" data-app="phone">
                        <i class="fas fa-phone"></i>
                        <span>–¢–µ–ª–µ—Ñ–æ–Ω</span>
                    </div>
                    <div class="app-icon" data-app="safari">
                        <i class="fas fa-globe"></i>
                        <span>Safari</span>
                    </div>
                    <div class="app-icon" data-app="messages">
                        <i class="fas fa-message"></i>
                        <span>–°–æ–æ–±—â–µ–Ω–∏—è</span>
                    </div>
                    <div class="app-icon" data-app="music">
                        <i class="fas fa-music"></i>
                        <span>–ú—É–∑—ã–∫–∞</span>
                    </div>
                </div>
            </div>

            <div class="home-indicator"></div>

            <!-- App Windows -->
            <div class="app-window" id="calculator-window" data-app="calculator">
                <div class="window-header">
                    <div class="window-title">
                        <i class="fas fa-calculator"></i>
                        <span>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</span>
                    </div>
                    <div class="window-controls">
                        <div class="window-btn minimize-btn" data-window="calculator">
                            <i class="fas fa-minus"></i>
                        </div>
                        <div class="window-btn maximize-btn" data-window="calculator">
                            <i class="fas fa-expand"></i>
                        </div>
                        <div class="window-btn close-btn" data-window="calculator">
                            <i class="fas fa-times"></i>
                        </div>
                    </div>
                </div>
                <div class="app-content">
                    <div class="calculator">
                        <div class="calculator-display" id="calc-display">0</div>
                        <div class="calculator-buttons">
                            <button class="calc-btn clear" id="calc-clear">C</button>
                            <button class="calc-btn clear" id="calc-backspace">‚å´</button>
                            <button class="calc-btn operator" data-op="%">%</button>
                            <button class="calc-btn operator" data-op="/">√∑</button>
                            <button class="calc-btn" data-num="7">7</button>
                            <button class="calc-btn" data-num="8">8</button>
                            <button class="calc-btn" data-num="9">9</button>
                            <button class="calc-btn operator" data-op="*">√ó</button>
                            <button class="calc-btn" data-num="4">4</button>
                            <button class="calc-btn" data-num="5">5</button>
                            <button class="calc-btn" data-num="6">6</button>
                            <button class="calc-btn operator" data-op="-">‚àí</button>
                            <button class="calc-btn" data-num="1">1</button>
                            <button class="calc-btn" data-num="2">2</button>
                            <button class="calc-btn" data-num="3">3</button>
                            <button class="calc-btn operator" data-op="+">+</button>
                            <button class="calc-btn" id="calc-plusminus">¬±</button>
                            <button class="calc-btn zero" data-num="0">0</button>
                            <button class="calc-btn" data-num=".">.</button>
                            <button class="calc-btn operator" id="calc-equals">=</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="app-window" id="settings-window" data-app="settings">
                <div class="window-header">
                    <div class="window-title">
                        <i class="fas fa-cog"></i>
                        <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                    </div>
                    <div class="window-controls">
                        <div class="window-btn minimize-btn" data-window="settings">
                            <i class="fas fa-minus"></i>
                        </div>
                        <div class="window-btn maximize-btn" data-window="settings">
                            <i class="fas fa-expand"></i>
                        </div>
                        <div class="window-btn close-btn" data-window="settings">
                            <i class="fas fa-times"></i>
                        </div>
                    </div>
                </div>
                <div class="app-content">
                    <div style="padding: 30px;">
                        <h3 style="margin-bottom: 30px; font-size: 1.6rem; font-weight: 700;">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</h3>
                        
                        <div style="margin-bottom: 30px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 20px 0; border-bottom: 1px solid #e5e5ea;">
                                <div style="font-weight: 600;">Wi-Fi</div>
                                <label style="position: relative; width: 54px; height: 32px;">
                                    <input type="checkbox" id="wifi-toggle" style="opacity: 0; width: 0; height: 0;">
                                    <span style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: #e5e5ea; border-radius: 34px; transition: .4s; cursor: pointer;">
                                        <span style="position: absolute; height: 26px; width: 26px; left: 3px; bottom: 3px; background: white; border-radius: 50%; transition: .4s; box-shadow: 0 2px 4px rgba(0,0,0,0.2);"></span>
                                    </span>
                                </label>
                            </div>
                            
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 20px 0; border-bottom: 1px solid #e5e5ea;">
                                <div style="font-weight: 600;">Bluetooth</div>
                                <label style="position: relative; width: 54px; height: 32px;">
                                    <input type="checkbox" id="bluetooth-toggle" style="opacity: 0; width: 0; height: 0;">
                                    <span style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: #e5e5ea; border-radius: 34px; transition: .4s; cursor: pointer;">
                                        <span style="position: absolute; height: 26px; width: 26px; left: 3px; bottom: 3px; background: white; border-radius: 50%; transition: .4s; box-shadow: 0 2px 4px rgba(0,0,0,0.2);"></span>
                                    </span>
                                </label>
                            </div>
                        </div>
                        
                        <div style="margin-top: 40px;">
                            <h4 style="margin-bottom: 20px; font-weight: 600;">–û–±–æ–∏</h4>
                            <div style="display: flex; gap: 15px;">
                                <button class="wallpaper-btn" data-wallpaper="1" style="flex: 1; padding: 18px; background: linear-gradient(135deg, #007AFF, #0056CC); color: white; border: none; border-radius: 14px; font-weight: 600; cursor: pointer; transition: all 0.3s;">–°–∏–Ω–∏–π</button>
                                <button class="wallpaper-btn" data-wallpaper="2" style="flex: 1; padding: 18px; background: linear-gradient(135deg, #007AFF, #0056CC); color: white; border: none; border-radius: 14px; font-weight: 600; cursor: pointer; transition: all 0.3s;">–ì—Ä–∞–¥–∏–µ–Ω—Ç</button>
                                <button class="wallpaper-btn" data-wallpaper="3" style="flex: 1; padding: 18px; background: linear-gradient(135deg, #007AFF, #0056CC); color: white; border: none; border-radius: 14px; font-weight: 600; cursor: pointer; transition: all 0.3s;">–§–∏–æ–ª–µ—Ç</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="app-window" id="notes-window" data-app="notes">
                <div class="window-header">
                    <div class="window-title">
                        <i class="fas fa-sticky-note"></i>
                        <span>–ó–∞–º–µ—Ç–∫–∏</span>
                    </div>
                    <div class="window-controls">
                        <div class="window-btn minimize-btn" data-window="notes">
                            <i class="fas fa-minus"></i>
                        </div>
                        <div class="window-btn maximize-btn" data-window="notes">
                            <i class="fas fa-expand"></i>
                        </div>
                        <div class="window-btn close-btn" data-window="notes">
                            <i class="fas fa-times"></i>
                        </div>
                    </div>
                </div>
                <div class="app-content">
                    <div style="padding: 30px;">
                        <div style="background: white; border-radius: 16px; padding: 25px; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
                            <h3 style="margin-bottom: 20px; font-size: 1.4rem; font-weight: 700;">–ù–æ–≤–∞—è –∑–∞–º–µ—Ç–∫–∞</h3>
                            <textarea id="note-content" placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å —Ç–µ–∫—Å—Ç..." style="width: 100%; height: 250px; border: none; font-family: inherit; font-size: 1.1rem; resize: none; outline: none;"></textarea>
                            <div style="display: flex; gap: 15px; margin-top: 25px;">
                                <button id="save-note" style="flex: 1; padding: 16px; background: linear-gradient(135deg, #34C759, #2DBE4C); color: white; border: none; border-radius: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                <button id="clear-note" style="flex: 1; padding: 16px; background: linear-gradient(135deg, #8E8E93, #6C6C70); color: white; border: none; border-radius: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s;">–û—á–∏—Å—Ç–∏—Ç—å</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="app-window" id="weather-window" data-app="weather">
                <div class="window-header">
                    <div class="window-title">
                        <i class="fas fa-cloud-sun"></i>
                        <span>–ü–æ–≥–æ–¥–∞</span>
                    </div>
                    <div class="window-controls">
                        <div class="window-btn minimize-btn" data-window="weather">
                            <i class="fas fa-minus"></i>
                        </div>
                        <div class="window-btn maximize-btn" data-window="weather">
                            <i class="fas fa-expand"></i>
                        </div>
                        <div class="window-btn close-btn" data-window="weather">
                            <i class="fas fa-times"></i>
                        </div>
                    </div>
                </div>
                <div class="app-content">
                    <div style="padding: 40px; text-align: center;">
                        <div style="font-size: 2.5rem; font-weight: 700; margin-bottom: 20px;">–ú–æ—Å–∫–≤–∞</div>
                        <div style="font-size: 5rem; font-weight: 300; margin-bottom: 30px;">24¬∞C</div>
                        <div style="font-size: 2rem; margin-bottom: 40px;">
                            <i class="fas fa-sun" style="color: #FF9500;"></i>
                        </div>
                        <div style="font-size: 1.3rem; color: #666; margin-bottom: 40px;">–°–æ–ª–Ω–µ—á–Ω–æ</div>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                            <div style="background: rgba(0,122,255,0.1); border-radius: 16px; padding: 20px;">
                                <div style="font-size: 0.9rem; color: #666; margin-bottom: 10px;">–í–ª–∞–∂–Ω–æ—Å—Ç—å</div>
                                <div style="font-size: 1.5rem; font-weight: 700;">65%</div>
                            </div>
                            <div style="background: rgba(0,122,255,0.1); border-radius: 16px; padding: 20px;">
                                <div style="font-size: 0.9rem; color: #666; margin-bottom: 10px;">–í–µ—Ç–µ—Ä</div>
                                <div style="font-size: 1.5rem; font-weight: 700;">5 –º/—Å</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="app-window" id="music-window" data-app="music">
                <div class="window-header">
                    <div class="window-title">
                        <i class="fas fa-music"></i>
                        <span>–ú—É–∑—ã–∫–∞</span>
                    </div>
                    <div class="window-controls">
                        <div class="window-btn minimize-btn" data-window="music">
                            <i class="fas fa-minus"></i>
                        </div>
                        <div class="window-btn maximize-btn" data-window="music">
                            <i class="fas fa-expand"></i>
                        </div>
                        <div class="window-btn close-btn" data-window="music">
                            <i class="fas fa-times"></i>
                        </div>
                    </div>
                </div>
                <div class="app-content">
                    <div style="padding: 40px; text-align: center;">
                        <div style="width: 200px; height: 200px; background: linear-gradient(135deg, #007AFF, #0056CC); border-radius: 20px; margin: 0 auto 30px; display: flex; align-items: center; justify-content: center; font-size: 4rem; color: white;">
                            <i class="fas fa-music"></i>
                        </div>
                        <div style="margin-bottom: 30px;">
                            <div style="font-size: 1.8rem; font-weight: 700; margin-bottom: 10px;">Song Title</div>
                            <div style="font-size: 1.2rem; color: #666;">Artist Name</div>
                        </div>
                        <div style="margin: 40px 0;">
                            <div style="height: 4px; background: #e5e5ea; border-radius: 2px; overflow: hidden; margin-bottom: 10px;">
                                <div id="music-progress" style="height: 100%; width: 30%; background: #007AFF;"></div>
                            </div>
                            <div style="display: flex; justify-content: space-between; font-size: 0.9rem; color: #666;">
                                <span>0:00</span>
                                <span>3:45</span>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: center; align-items: center; gap: 40px; margin-top: 30px;">
                            <div style="width: 60px; height: 60px; border-radius: 50%; background: #007AFF; color: white; display: flex; align-items: center; justify-content: center; font-size: 1.4rem; cursor: pointer;">
                                <i class="fas fa-backward"></i>
                            </div>
                            <div style="width: 80px; height: 80px; border-radius: 50%; background: #007AFF; color: white; display: flex; align-items: center; justify-content: center; font-size: 2rem; cursor: pointer;">
                                <i class="fas fa-play"></i>
                            </div>
                            <div style="width: 60px; height: 60px; border-radius: 50%; background: #007AFF; color: white; display: flex; align-items: center; justify-content: center; font-size: 1.4rem; cursor: pointer;">
                                <i class="fas fa-forward"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // WebOS - iOS 18 Simulator
        // –ö–†–ê–°–ò–í–´–ô –î–ò–ó–ê–ô–ù –° –†–ê–ë–û–ß–ï–ô –†–ê–ó–ë–õ–û–ö–ò–†–û–í–ö–û–ô
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log("‚ú® iOS 18 –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...");
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
            initSystem();
            initApps();
            initLockScreen(); // –†–ê–ë–û–ß–ê–Ø –†–ê–ó–ë–õ–û–ö–ò–†–û–í–ö–ê
            initNotifications();
            initTime();
            initCalculator();
            initSettings();
            initNotes();
            initMusicPlayer();
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            addNotification("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å", "iOS 18 —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–∞");
            addNotification("–°–∏—Å—Ç–µ–º–∞", "–í—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ");
            addNotification("–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞", "–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º");
            
            // –í–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            if (navigator.vibrate) navigator.vibrate(100);
        });

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
        const systemState = {
            locked: true,
            wallpaper: 1,
            wifi: true,
            bluetooth: false,
            notifications: [],
            notes: [],
            music: {
                playing: false,
                currentTime: 0,
                duration: 225
            }
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
        function initSystem() {
            console.log("üì± –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã...");
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
        function initApps() {
            console.log("üì≤ –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π...");
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –∑–Ω–∞—á–∫–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
            const apps = [
                { id: 'settings', name: '–ù–∞—Å—Ç—Ä–æ–π–∫–∏', icon: 'cog', color: '#8E8E93' },
                { id: 'calculator', name: '–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä', icon: 'calculator', color: '#FF9500' },
                { id: 'notes', name: '–ó–∞–º–µ—Ç–∫–∏', icon: 'sticky-note', color: '#FFCC00' },
                { id: 'weather', name: '–ü–æ–≥–æ–¥–∞', icon: 'cloud-sun', color: '#5AC8FA' },
                { id: 'music', name: '–ú—É–∑—ã–∫–∞', icon: 'music', color: '#FF2D55' },
                { id: 'clicker', name: '–ö–ª–∏–∫–µ—Ä', icon: 'mouse-pointer', color: '#32D74B' },
                { id: 'snake', name: '–ó–º–µ–π–∫–∞', icon: 'gamepad', color: '#FF453A' },
                { id: 'browser', name: 'Safari', icon: 'globe', color: '#007AFF' },
                { id: 'calendar', name: '–ö–∞–ª–µ–Ω–¥–∞—Ä—å', icon: 'calendar', color: '#FF9F0A' },
                { id: 'camera', name: '–ö–∞–º–µ—Ä–∞', icon: 'camera', color: '#64D2FF' },
                { id: 'photos', name: '–§–æ—Ç–æ', icon: 'photo-film', color: '#30D158' },
                { id: 'maps', name: '–ö–∞—Ä—Ç—ã', icon: 'map', color: '#5E5CE6' }
            ];

            const grid = document.getElementById('apps-grid');
            apps.forEach(app => {
                const div = document.createElement('div');
                div.className = 'app-icon';
                div.dataset.app = app.id;
                div.innerHTML = `
                    <i class="fas fa-${app.icon}" style="color: ${app.color}"></i>
                    <span>${app.name}</span>
                `;
                div.addEventListener('click', () => {
                    if (systemState.locked) {
                        addNotification("üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ", "–†–∞–∑–±–ª–æ–∫–∏—Ä—É–π—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ");
                        if (navigator.vibrate) navigator.vibrate(50);
                        return;
                    }
                    openApp(app.id);
                });
                grid.appendChild(div);
            });

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –¥–æ–∫-—Å—Ç–∞–Ω—Ü–∏–∏
            document.querySelectorAll('.dock .app-icon').forEach(icon => {
                icon.addEventListener('click', () => {
                    const appId = icon.dataset.app;
                    if (systemState.locked) {
                        addNotification("üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ", "–†–∞–∑–±–ª–æ–∫–∏—Ä—É–π—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ");
                        if (navigator.vibrate) navigator.vibrate(50);
                        return;
                    }
                    openApp(appId);
                });
            });

            // Dynamic Island –∫–Ω–æ–ø–∫–∏
            document.getElementById('dynamic-notifications').addEventListener('click', () => {
                if (!systemState.locked) {
                    toggleNotifications();
                }
            });
            
            document.getElementById('dynamic-camera').addEventListener('click', () => {
                if (!systemState.locked) {
                    addNotification("üì∑ –ö–∞–º–µ—Ä–∞", "–ö–∞–º–µ—Ä–∞ –∑–∞–ø—É—â–µ–Ω–∞");
                    if (navigator.vibrate) navigator.vibrate(30);
                }
            });
            
            document.getElementById('dynamic-flashlight').addEventListener('click', () => {
                if (!systemState.locked) {
                    addNotification("üî¶ –§–æ–Ω–∞—Ä–∏–∫", "–§–æ–Ω–∞—Ä–∏–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω");
                    if (navigator.vibrate) navigator.vibrate(30);
                }
            });
        }

        // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –≠–ö–†–ê–ù–ê –ë–õ–û–ö–ò–†–û–í–ö–ò - 100% –†–ê–ë–û–¢–ê–ï–¢
        function initLockScreen() {
            console.log("üîê –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏...");
            
            const lockScreen = document.getElementById('lock-screen');
            const unlockButton = document.getElementById('unlock-button');
            const lockFullArea = document.getElementById('lock-full-area');
            
            // 1. –û—Å–Ω–æ–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (—Å–∞–º–∞—è –±–æ–ª—å—à–∞—è –∏ –∫—Ä–∞—Å–∏–≤–∞—è)
            unlockButton.addEventListener('click', function(e) {
                e.stopPropagation();
                unlockDevice();
            });
            
            // 2. –ö–ª–∏–∫ –ø–æ –ª—é–±–æ–π –æ–±–ª–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞
            lockFullArea.addEventListener('click', unlockDevice);
            
            // 3. –¢–∞–∫–∂–µ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–∞
            let touchStartY = 0;
            
            lockScreen.addEventListener('touchstart', function(e) {
                touchStartY = e.touches[0].clientY;
            });
            
            lockScreen.addEventListener('touchend', function(e) {
                const touchEndY = e.changedTouches[0].clientY;
                const swipeDistance = touchStartY - touchEndY;
                
                if (swipeDistance > 40) {
                    unlockDevice();
                }
            });
            
            // 4. –ö–ª–∞–≤–∏—à–∞ –ø—Ä–æ–±–µ–ª–∞ –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞
            document.addEventListener('keydown', function(e) {
                if (e.code === 'Space' && systemState.locked) {
                    unlockDevice();
                }
            });
        }

        // –§–£–ù–ö–¶–ò–Ø –†–ê–ó–ë–õ–û–ö–ò–†–û–í–ö–ò - 100% –†–ê–ë–û–¢–ê–ï–¢
        function unlockDevice() {
            console.log("üéØ –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞...");
            
            if (!systemState.locked) return;
            
            const lockScreen = document.getElementById('lock-screen');
            const osContainer = document.getElementById('os-container');
            
            // –í–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
            if (navigator.vibrate) navigator.vibrate(50);
            
            // –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
            lockScreen.classList.add('hidden');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª
            setTimeout(() => {
                osContainer.style.display = 'block';
                systemState.locked = false;
                
                console.log("‚úÖ –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ!");
                
                // –í–∏–±—Ä–∞—Ü–∏—è —É—Å–ø–µ—Ö–∞
                if (navigator.vibrate) navigator.vibrate([30, 50, 30]);
                
                // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–µ
                addNotification("üîì –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ", "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ");
            }, 500);
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
        function openApp(appId) {
            console.log("üöÄ –û—Ç–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:", appId);
            
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –æ–∫–Ω–∞
            document.querySelectorAll('.app-window').forEach(win => {
                win.classList.remove('active');
            });
            
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
            const window = document.getElementById(`${appId}-window`);
            if (window) {
                window.classList.add('active');
                window.style.zIndex = '100';
                
                // –ü–æ–¥–Ω–∏–º–∞–µ–º –æ–∫–Ω–æ –Ω–∞ –ø–µ—Ä–µ–¥–Ω–∏–π –ø–ª–∞–Ω
                setTimeout(() => {
                    window.style.zIndex = '200';
                }, 10);
            }
            
            // –í–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
            if (navigator.vibrate) navigator.vibrate(20);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        function initNotifications() {
            // –ò–∫–æ–Ω–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ —Å—Ç–∞—Ç—É—Å-–±–∞—Ä–µ
            document.getElementById('status-notification-icon').addEventListener('click', () => {
                if (!systemState.locked) {
                    toggleNotifications();
                }
            });
            
            // –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è —à—Ç–æ—Ä–∫–∏
            document.getElementById('close-notifications').addEventListener('click', () => {
                document.getElementById('notification-panel').classList.remove('show');
            });
            
            // –û—Ç–∫—Ä—ã—Ç–∏–µ —à—Ç–æ—Ä–∫–∏ —Å–≤–∞–π–ø–æ–º –≤–Ω–∏–∑
            let notificationStartY = 0;
            
            document.getElementById('status-bar').addEventListener('touchstart', (e) => {
                notificationStartY = e.touches[0].clientY;
            });
            
            document.getElementById('status-bar').addEventListener('touchmove', (e) => {
                const currentY = e.touches[0].clientY;
                const diff = currentY - notificationStartY;
                
                if (diff > 40 && !systemState.locked) {
                    toggleNotifications();
                }
            });
        }

        function toggleNotifications() {
            const panel = document.getElementById('notification-panel');
            
            if (panel.classList.contains('show')) {
                panel.classList.remove('show');
            } else {
                panel.classList.add('show');
            }
            
            if (navigator.vibrate) navigator.vibrate(20);
        }

        function addNotification(title, text) {
            const notification = {
                id: Date.now(),
                title: title,
                text: text,
                time: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                read: false
            };
            
            systemState.notifications.unshift(notification);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –±–µ–π–¥–∂
            const unreadCount = systemState.notifications.filter(n => !n.read).length;
            const badge = document.getElementById('status-notification-badge');
            
            if (unreadCount > 0) {
                badge.textContent = unreadCount > 9 ? '9+' : unreadCount;
                badge.style.display = 'flex';
            } else {
                badge.style.display = 'none';
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≤ —Å–ø–∏—Å–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
            const list = document.getElementById('notifications-list');
            const item = document.createElement('div');
            item.className = 'notification-item';
            
            // –°–ª—É—á–∞–π–Ω—ã–π —Ü–≤–µ—Ç –¥–ª—è –≥—Ä–∞–Ω–∏—Ü—ã
            const colors = ['#007AFF', '#34C759', '#FF9500', '#FF3B30', '#AF52DE'];
            const color = colors[Math.floor(Math.random() * colors.length)];
            item.style.borderLeftColor = color;
            
            item.innerHTML = `
                <div class="notification-title">
                    ${title}
                    <span style="font-size: 0.85rem; color: #999;">${notification.time}</span>
                </div>
                <div class="notification-text">${text}</div>
                <div class="notification-time">–¢–æ–ª—å–∫–æ —á—Ç–æ</div>
            `;
            
            // –í—Å—Ç–∞–≤–ª—è–µ–º –Ω–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –Ω–∞—á–∞–ª–æ
            if (list.firstChild) {
                list.insertBefore(item, list.firstChild);
            } else {
                list.appendChild(item);
            }
            
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
            while (list.children.length > 10) {
                list.removeChild(list.lastChild);
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏
        function initTime() {
            function updateTime() {
                const now = new Date();
                
                // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
                const timeStr = now.toLocaleTimeString('ru-RU', { 
                    hour: '2-digit', 
                    minute: '2-digit' 
                });
                
                // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã
                const options = { 
                    weekday: 'long', 
                    day: 'numeric', 
                    month: 'long' 
                };
                const dateStr = now.toLocaleDateString('ru-RU', options);
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                document.getElementById('current-time').textContent = timeStr;
                document.getElementById('lock-time').textContent = timeStr;
                document.getElementById('lock-date').textContent = dateStr;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Ä–µ–º—è —Å—Ä–∞–∑—É –∏ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
            updateTime();
            setInterval(updateTime, 1000);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
        function initCalculator() {
            let display = '0';
            let firstOperand = null;
            let operator = null;
            let waitingForSecondOperand = false;

            const calcDisplay = document.getElementById('calc-display');
            
            function updateDisplay() {
                calcDisplay.textContent = display;
            }

            function inputDigit(digit) {
                if (waitingForSecondOperand) {
                    display = digit;
                    waitingForSecondOperand = false;
                } else {
                    display = display === '0' ? digit : display + digit;
                }
                updateDisplay();
            }

            function inputDecimal() {
                if (waitingForSecondOperand) {
                    display = '0.';
                    waitingForSecondOperand = false;
                    return;
                }
                if (!display.includes('.')) {
                    display += '.';
                }
                updateDisplay();
            }

            function handleOperator(nextOperator) {
                const inputValue = parseFloat(display);
                
                if (operator && waitingForSecondOperand) {
                    operator = nextOperator;
                    return;
                }
                
                if (firstOperand === null) {
                    firstOperand = inputValue;
                } else if (operator) {
                    const result = calculate(firstOperand, inputValue, operator);
                    display = `${parseFloat(result.toFixed(7))}`;
                    firstOperand = result;
                }
                
                waitingForSecondOperand = true;
                operator = nextOperator;
                updateDisplay();
            }

            function calculate(first, second, operator) {
                switch(operator) {
                    case '+': return first + second;
                    case '-': return first - second;
                    case '*': return first * second;
                    case '/': return second !== 0 ? first / second : 'Error';
                    case '%': return first % second;
                    default: return second;
                }
            }

            function resetCalculator() {
                display = '0';
                firstOperand = null;
                operator = null;
                waitingForSecondOperand = false;
                updateDisplay();
            }

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
            document.querySelectorAll('.calc-btn[data-num]').forEach(btn => {
                btn.addEventListener('click', () => {
                    inputDigit(btn.dataset.num);
                    if (navigator.vibrate) navigator.vibrate(10);
                });
            });

            document.querySelectorAll('.calc-btn[data-op]').forEach(btn => {
                btn.addEventListener('click', () => {
                    handleOperator(btn.dataset.op);
                    if (navigator.vibrate) navigator.vibrate(10);
                });
            });

            document.querySelector('.calc-btn[data-num="."]').addEventListener('click', () => {
                inputDecimal();
                if (navigator.vibrate) navigator.vibrate(10);
            });
            
            document.getElementById('calc-equals').addEventListener('click', () => {
                const inputValue = parseFloat(display);
                if (operator && firstOperand !== null) {
                    const result = calculate(firstOperand, inputValue, operator);
                    display = `${parseFloat(result.toFixed(7))}`;
                    firstOperand = null;
                    operator = null;
                    waitingForSecondOperand = true;
                    updateDisplay();
                }
                if (navigator.vibrate) navigator.vibrate(30);
            });

            document.getElementById('calc-clear').addEventListener('click', () => {
                resetCalculator();
                if (navigator.vibrate) navigator.vibrate(20);
            });
            
            document.getElementById('calc-backspace').addEventListener('click', () => {
                if (display.length > 1) {
                    display = display.slice(0, -1);
                } else {
                    display = '0';
                }
                updateDisplay();
                if (navigator.vibrate) navigator.vibrate(10);
            });
            
            document.getElementById('calc-plusminus').addEventListener('click', () => {
                display = (-parseFloat(display)).toString();
                updateDisplay();
                if (navigator.vibrate) navigator.vibrate(10);
            });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
        function initSettings() {
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
            document.getElementById('wifi-toggle').checked = systemState.wifi;
            document.getElementById('bluetooth-toggle').checked = systemState.bluetooth;
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–π
            document.getElementById('wifi-toggle').addEventListener('change', (e) => {
                systemState.wifi = e.target.checked;
                const toggle = e.target.nextElementSibling;
                if (systemState.wifi) {
                    toggle.style.background = '#34C759';
                    toggle.querySelector('span').style.transform = 'translateX(22px)';
                    addNotification("üì∂ Wi-Fi", "–í–∫–ª—é—á–µ–Ω");
                } else {
                    toggle.style.background = '#e5e5ea';
                    toggle.querySelector('span').style.transform = 'translateX(0)';
                    addNotification("üì∂ Wi-Fi", "–í—ã–∫–ª—é—á–µ–Ω");
                }
                if (navigator.vibrate) navigator.vibrate(20);
            });
            
            document.getElementById('bluetooth-toggle').addEventListener('change', (e) => {
                systemState.bluetooth = e.target.checked;
                const toggle = e.target.nextElementSibling;
                if (systemState.bluetooth) {
                    toggle.style.background = '#007AFF';
                    toggle.querySelector('span').style.transform = 'translateX(22px)';
                    addNotification("üì± Bluetooth", "–í–∫–ª—é—á–µ–Ω");
                } else {
                    toggle.style.background = '#e5e5ea';
                    toggle.querySelector('span').style.transform = 'translateX(0)';
                    addNotification("üì± Bluetooth", "–í—ã–∫–ª—é—á–µ–Ω");
                }
                if (navigator.vibrate) navigator.vibrate(20);
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ–±–æ–µ–≤
            document.querySelectorAll('.wallpaper-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const num = parseInt(this.dataset.wallpaper);
                    systemState.wallpaper = num;
                    const homeScreen = document.getElementById('home-screen');
                    homeScreen.classList.remove('wallpaper-1', 'wallpaper-2', 'wallpaper-3');
                    homeScreen.classList.add(`wallpaper-${num}`);
                    addNotification("üé® –û–±–æ–∏", `–ò–∑–º–µ–Ω–µ–Ω—ã –Ω–∞ –≤–∞—Ä–∏–∞–Ω—Ç ${num}`);
                    if (navigator.vibrate) navigator.vibrate(30);
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                    }, 150);
                });
            });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–º–µ—Ç–æ–∫
        function initNotes() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∑–∞–º–µ—Ç–æ–∫
            const savedNotes = localStorage.getItem('ios-notes');
            if (savedNotes) {
                systemState.notes = JSON.parse(savedNotes);
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
            document.getElementById('save-note').addEventListener('click', function() {
                const content = document.getElementById('note-content').value;
                if (content.trim()) {
                    const note = {
                        id: Date.now(),
                        content: content,
                        date: new Date().toLocaleString()
                    };
                    systemState.notes.unshift(note);
                    localStorage.setItem('ios-notes', JSON.stringify(systemState.notes));
                    document.getElementById('note-content').value = '';
                    addNotification("üìù –ó–∞–º–µ—Ç–∫–∏", "–ó–∞–º–µ—Ç–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞");
                    if (navigator.vibrate) navigator.vibrate(30);
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                    }, 150);
                }
            });
            
            document.getElementById('clear-note').addEventListener('click', function() {
                document.getElementById('note-content').value = '';
                if (navigator.vibrate) navigator.vibrate(20);
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = 'scale(1)';
                }, 150);
            });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º—É–∑—ã–∫–∞–ª—å–Ω–æ–≥–æ –ø–ª–µ–µ—Ä–∞
        function initMusicPlayer() {
            const playBtn = document.querySelector('#music-window .fa-play').parentElement;
            const progressBar = document.getElementById('music-progress');
            
            playBtn.addEventListener('click', function() {
                systemState.music.playing = !systemState.music.playing;
                const icon = this.querySelector('i');
                
                if (systemState.music.playing) {
                    icon.className = 'fas fa-pause';
                    addNotification("üéµ –ú—É–∑—ã–∫–∞", "–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –Ω–∞—á–∞—Ç–æ");
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
                    let progress = 0;
                    const interval = setInterval(() => {
                        if (!systemState.music.playing) {
                            clearInterval(interval);
                            return;
                        }
                        progress += 0.5;
                        if (progress > 100) {
                            progress = 0;
                            systemState.music.playing = false;
                            icon.className = 'fas fa-play';
                        }
                        progressBar.style.width = `${progress}%`;
                    }, 100);
                } else {
                    icon.className = 'fas fa-play';
                    addNotification("üéµ –ú—É–∑—ã–∫–∞", "–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ");
                }
                
                if (navigator.vibrate) navigator.vibrate(20);
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏
                this.style.transform = 'scale(0.9)';
                setTimeout(() => {
                    this.style.transform = 'scale(1)';
                }, 150);
            });
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ–∫–æ–Ω
        document.addEventListener('click', (e) => {
            // –ö–Ω–æ–ø–∫–∞ —Å–≤–µ—Ä–Ω—É—Ç—å
            if (e.target.closest('.minimize-btn')) {
                const app = e.target.closest('.app-window').dataset.app;
                const window = document.getElementById(`${app}-window`);
                if (window) window.classList.remove('active');
                if (navigator.vibrate) navigator.vibrate(10);
            }
            
            // –ö–Ω–æ–ø–∫–∞ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å
            if (e.target.closest('.maximize-btn')) {
                const window = e.target.closest('.app-window');
                window.classList.toggle('maximized');
                if (navigator.vibrate) navigator.vibrate(10);
            }
            
            // –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç—å
            if (e.target.closest('.close-btn')) {
                const app = e.target.closest('.app-window').dataset.app;
                const window = document.getElementById(`${app}-window`);
                if (window) window.classList.remove('active');
                if (navigator.vibrate) navigator.vibrate(10);
            }
        });

        // –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –æ–∫–æ–Ω
        document.querySelectorAll('.window-header').forEach(header => {
            let isDragging = false;
            let startX, startY, initialLeft, initialTop;

            header.addEventListener('mousedown', startDrag);
            header.addEventListener('touchstart', startDrag);

            function startDrag(e) {
                if (systemState.locked) return;
                const window = header.parentElement;
                isDragging = true;
                const rect = window.getBoundingClientRect();
                initialLeft = rect.left;
                initialTop = rect.top;
                
                const clientX = e.touches ? e.touches[0].clientX : e.clientX;
                const clientY = e.touches ? e.touches[0].clientY : e.clientY;
                
                startX = clientX - initialLeft;
                startY = clientY - initialTop;
                
                document.addEventListener('mousemove', drag);
                document.addEventListener('touchmove', drag);
                document.addEventListener('mouseup', stopDrag);
                document.addEventListener('touchend', stopDrag);
            }

            function drag(e) {
                if (!isDragging) return;
                e.preventDefault();
                
                const clientX = e.touches ? e.touches[0].clientX : e.clientX;
                const clientY = e.touches ? e.touches[0].clientY : e.clientY;
                
                const newLeft = clientX - startX;
                const newTop = clientY - startY;
                
                header.parentElement.style.left = `${newLeft}px`;
                header.parentElement.style.top = `${newTop}px`;
            }

            function stopDrag() {
                isDragging = false;
                document.removeEventListener('mousemove', drag);
                document.removeEventListener('touchmove', drag);
            }
        });

        console.log("‚úÖ iOS 18 –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!");
    </script>
</body>
</html>
